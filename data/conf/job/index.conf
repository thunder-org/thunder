home-path = "g:/workspace/thunder"
conf-path = ${home-path}"/data/conf"

job {
    name = "index-test"
    id = "1"
    schedule = "0"

    task {
        manager.number = 1
        worker.number = 1
        wating-time-sec = 3
    }

    job-manager.class = "org.conqueror.bird.job.IndexJobManager"
    task-manager.class = "org.conqueror.bird.task.IndexTaskManager"
    task-worker.class = "org.conqueror.bird.task.IndexTaskWorker"
    transfer.task-manager.class = ["org.conqueror.bird.task.AnalysisTaskManager"]
    transfer.task-worker.class = ["org.conqueror.bird.task.AnalysisTaskWorker"]

    node-master.urls = ["akka.tcp://ThunderBirdWorker-Master@localhost:2551"]

    ask.timeout = 10

    # gate
    gate {
        input-file-list = [
            #"file;json;estate;estate;file:///G:/workspace/thunder/data/sources/estate_data.@range_month{201601~201601:yyyyMM}.json"
            "file;json;estate;estate;file:///G:/workspace/thunder/data/sources/estate_data.test.json"
        ]
        schema-path = ${conf-path}"/schema"
        source-number = 1
        schemas {
            estate = "estate.json"
        }
    }

    # analysis
    analysis {
        conf-file-path = ${conf-path}"/analyzer/analyzer.conf"
        analyzer.number = 2
    }

    # index
    index {
        name-max-size = 20
        content-queue-size = 100
        indexer-number = 2
        bulk-size = 100
        mapping-path = ${conf-path}"/mapping"

        es {
            addresses = ["192.168.203.118:9300"]
            cluster = "my-application"
            parent-mapping-name = "DOCUMENT"
            #child-mapping-name = "SENTENCE"
            mappings {
                estate = "estate.json"
            }
            ping-timeout = 120
            node-sampler-interval = 5
            request-retries = 3
        }
    }
}
