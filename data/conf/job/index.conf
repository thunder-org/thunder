home-path = "G:\\workspace\\thunder"
conf-path = ${home-path}"\\data\\conf"

job {
    name = "index-test"
    id = "1"
    schedule = "0"

    task {
        manager.number = 2
        worker.number = 2
        wating-time-sec = 3
    }

    job-manager.class = "org.conqueror.bird.job.IndexJobManager"
    task-manager.class = "org.conqueror.bird.task.IndexTaskManager"
    task-worker.class = "org.conqueror.bird.task.IndexTaskWorker"
    transfer.task-manager.class = ["org.conqueror.bird.task.AnalysisTaskManager"]
    transfer.task-worker.class = ["org.conqueror.bird.task.AnalysisTaskWorker"]

    schema-path = ${conf-path}"\\schema"
    mapping-path = ${conf-path}"\\mapping"

    node-master.urls = ["akka.tcp://ThunderBirdWorker-Master@localhost:2551"]

    ask.timeout = 10

    # gate
    gate {
        input-file-list = [
            "file;json;estate;estate;file:///G:/workspace/thunder/data/sources/estate_data.@range_month{201601~201612:yyyyMM}.json"
        ]
        source-number = 1
        schemas {
            estate = "estate.json"
        }
    }

    # analysis
    analysis {
        analyzer {
            number = 1
            conf-file = "analyzer.conf"
        }
    }

    # index
    index {
        name-max-size = 20
        content-queue-pool-size = 10
        content-queue-size = 100
        executor-number = 1
        bulk-size = 1000

        es {
            addresses = ["172.21.1.218:9300"]
            cluster = "ES_CLUSTER_BINS"
            parent-mapping-name = "DOCUMENT"
            child-mapping-name = "SENTENCE"
            mappings {
                estate = "estate.json"
            }
            ping-timeout = 120
            node-sampler-interval = 5
        }
    }
}
